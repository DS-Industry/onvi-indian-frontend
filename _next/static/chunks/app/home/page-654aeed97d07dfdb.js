(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8620],{63909:(e,t,n)=>{Promise.resolve().then(n.bind(n,73374))},68571:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{cancelIdleCallback:function(){return r},requestIdleCallback:function(){return n}});let n="undefined"!=typeof self&&self.requestIdleCallback&&self.requestIdleCallback.bind(window)||function(e){let t=Date.now();return self.setTimeout(function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})},1)},r="undefined"!=typeof self&&self.cancelIdleCallback&&self.cancelIdleCallback.bind(window)||function(e){return clearTimeout(e)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},70180:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{formatUrl:function(){return i},formatWithValidation:function(){return a},urlObjectKeys:function(){return l}});let r=n(29955)._(n(54156)),s=/https?|ftp|gopher|file/;function i(e){let{auth:t,hostname:n}=e,i=e.protocol||"",l=e.pathname||"",a=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:n&&(c=t+(~n.indexOf(":")?"["+n+"]":n),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(r.urlQueryToSearchParams(o)));let u=e.search||o&&"?"+o||"";return i&&!i.endsWith(":")&&(i+=":"),e.slashes||(!i||s.test(i))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),a&&"#"!==a[0]&&(a="#"+a),u&&"?"!==u[0]&&(u="?"+u),""+i+c+(l=l.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+a}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function a(e){return i(e)}},54156:(e,t)=>{"use strict";function n(e){let t={};return e.forEach((e,n)=>{void 0===t[n]?t[n]=e:Array.isArray(t[n])?t[n].push(e):t[n]=[t[n],e]}),t}function r(e){return"string"!=typeof e&&("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function s(e){let t=new URLSearchParams;return Object.entries(e).forEach(e=>{let[n,s]=e;Array.isArray(s)?s.forEach(e=>t.append(n,r(e))):t.set(n,r(s))}),t}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach(t=>{Array.from(t.keys()).forEach(t=>e.delete(t)),t.forEach((t,n)=>e.append(n,t))}),e}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{assign:function(){return i},searchParamsToUrlQuery:function(){return n},urlQueryToSearchParams:function(){return s}})},12170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{DecodeError:function(){return h},MiddlewareNotFoundError:function(){return g},MissingStaticPage:function(){return A},NormalizeError:function(){return x},PageNotFoundError:function(){return p},SP:function(){return f},ST:function(){return m},WEB_VITALS:function(){return n},execOnce:function(){return r},getDisplayName:function(){return o},getLocationOrigin:function(){return l},getURL:function(){return a},isAbsoluteUrl:function(){return i},isResSent:function(){return c},loadGetInitialProps:function(){return d},normalizeRepeatedSlashes:function(){return u},stringifyError:function(){return y}});let n=["CLS","FCP","FID","INP","LCP","TTFB"];function r(e){let t,n=!1;return function(){for(var r=arguments.length,s=Array(r),i=0;i<r;i++)s[i]=arguments[i];return n||(n=!0,t=e(...s)),t}}let s=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,i=e=>s.test(e);function l(){let{protocol:e,hostname:t,port:n}=window.location;return e+"//"+t+(n?":"+n:"")}function a(){let{href:e}=window.location,t=l();return e.substring(t.length)}function o(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function c(e){return e.finished||e.headersSent}function u(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function d(e,t){let n=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await d(t.Component,t.ctx)}:{};let r=await e.getInitialProps(t);if(n&&c(n))return r;if(!r)throw Error('"'+o(e)+'.getInitialProps()" should resolve to an object. But found "'+r+'" instead.');return r}let f="undefined"!=typeof performance,m=f&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class h extends Error{}class x extends Error{}class p extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class A extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class g extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function y(e){return JSON.stringify({message:e.message,stack:e.stack})}},43409:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r=n(82651).A.create({baseURL:"https://indi-landing-backend-xzzi7.ondigitalocean.app/",timeout:1e4,headers:{"Content-Type":"application/json"},withCredentials:!0})},73374:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(95155),s=n(12115),i=n(92610),l=n(98290),a=n(82651),o=n(43409),c=n(62738),u=n(11644),d=n(66034),f=n(84843),m=n(85521);function h(e){let{name:t,fullPrice:n,price:i,id:l,user:a,count:u}=e,[h,x]=(0,s.useState)(!1),[p,A]=(0,s.useState)(!1),g=(0,m.useRouter)(),y=()=>{A(!1)},w=()=>{x(!0),y(),(async()=>{var e;await (e="https://checkout.razorpay.com/v1/checkout.js",new Promise(t=>{let n=document.createElement("script");n.src=e,n.async=!0,n.onload=()=>{t(!0)},n.onerror=()=>{t(!1)},document.body.appendChild(n)}))||(console.log("Failed to load checkout"),alert("Somthing went wrong try again later"));try{let e={headers:{Authorization:"Bearer ".concat(null==a?void 0:a.tokens.accessToken)}},t=(await o.A.post("subscribe/create",{planId:l,totalCount:u},e)).data.data.subId;console.log(t);let n={key:"rzp_live_dVUwzpkbXg2YDn",subscription_id:"".concat(t),name:"DSMoy-ka",description:"Monthly Car Wash Plan",image:"",handler:async function(e){try{await o.A.post("subscribe/check",{response:e,subscriptionId:t}),g.push("/success")}catch(e){g.push("/error")}},prefill:{email:"".concat(null==a?void 0:a.client.email),contact:"".concat(null==a?void 0:a.client.phone)},theme:{color:"#F37254"}};new window.Razorpay(n).open(),x(!1)}catch(e){console.log(e),x(!1)}})()};return(0,r.jsxs)("div",{className:"rounded-2xl border border-primary-600 p-6 shadow-sm ring-1 ring-primary-500 sm:px-8 lg:p-12 min-w-[250px]",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("h2",{className:"text-xl font-inter-bold text-black",children:[t,(0,r.jsx)("span",{className:"sr-only",children:"Plan"})]}),(0,r.jsxs)("h2",{className:"text-xl font-inter-bold text-gray",children:[u," month",(0,r.jsx)("span",{className:"sr-only",children:"Count"})]}),(0,r.jsxs)("p",{className:"mt-2 sm:mt-1",children:[(0,r.jsxs)("strong",{className:"text-3xl font-bold text-primary-500 sm:text-4xl",children:[(0,r.jsxs)("span",{style:{fontSize:"1.1rem",color:"grey",textDecoration:"line-through"},children:[n," ₹"]}),(0,r.jsx)("br",{}),i," ₹"]}),(0,r.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"/month"})]})]}),(0,r.jsxs)("ul",{className:"mt-6 space-y-2",children:[(0,r.jsxs)("li",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 text-indigo-700",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,r.jsx)("span",{className:"text-white-900",children:" ≈11 car washes every month "})]}),(0,r.jsxs)("li",{className:"flex items-center gap-1",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 text-indigo-700",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,r.jsx)("span",{className:"text-white-900",children:" ≈30% savings "})]})]}),(0,r.jsx)(d.A,{title:h?(0,r.jsx)("div",{className:" min-w-full h-full flex justify-center items-center",children:(0,r.jsx)(c.A,{additionalStyles:" w-7 h-7 ",insideStyles:" w-5 h-5 bg-primary-500"})}):"Get Started!",handleClick:()=>{(null==a?void 0:a.subscribe)===null?w():A(!0)},value:l,additionalStyles:" bg-primary-500 text-white-500 font-inter-light mt-3 min-w-full"}),(0,r.jsxs)(f.A,{title:"Changing your subscription",active:p,onClose:y,onSubmit:w,children:[(0,r.jsx)("div",{children:"You already have a subscription. Are you sure you want to start a new one?"}),(0,r.jsx)("div",{children:"Information about the current subscription can be found in your personal account."}),(0,r.jsx)("div",{children:"In case of confirmation, the remaining points will be deducted and new ones will be credited, in accordance with the selected tariff plan."})]})]})}var x=n(76046);function p(){let{user:e,getUser:t}=(0,l.J)(),n=(0,x.useRouter)(),[d,m]=(0,s.useState)([]),[p,A]=(0,s.useState)(!0),[g,y]=(0,s.useState)(""),[w,b]=(0,s.useState)(!1),j=()=>{b(!1)};return(0,s.useEffect)(()=>{let e=t();e||n.push("/");let r=async()=>{try{b(!0);let{data:{data:t}}=await o.A.get("subscribe/plans",{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.tokens.accessToken)}});A(!1),m(t)}catch(e){A(!1),a.A.isAxiosError(e)&&y("Something went wrong")}};e&&r()},[]),(0,s.useEffect)(()=>{if(g){let e=setTimeout(()=>{y("")},3e3);return()=>{clearTimeout(e)}}},[g]),(0,r.jsxs)(i.A,{children:[p?(0,r.jsx)("div",{className:" flex flex-grow justify-center items-center",children:(0,r.jsx)(c.A,{additionalStyles:" w-[100px] h-[100px]",insideStyles:" bg-white-500 w-[90px] h-[90px]"})}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:" my-[30px] min-w-full flex flex-grow justify-center items-center sm:flex-col xs:flex-col md:flex-row gap-5",children:(0,r.jsx)("h1",{className:"mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white",children:"Subscriptions"})}),(0,r.jsx)("div",{className:" my-[30px] min-w-full flex flex-grow justify-center items-center sm:flex-col xs:flex-col md:flex-row gap-5",children:d&&d.filter(t=>{var n;return t.name!==(null==e?void 0:null===(n=e.subscribe)||void 0===n?void 0:n.name)&&"Optimum"!==t.name&&!t.name.startsWith("test")}).map((t,n)=>(0,r.jsx)(h,{name:t.name,fullPrice:t.fullPrice,price:t.amount/100,id:t.id,user:e,count:12},n))}),(0,r.jsxs)(f.A,{title:"ATTENTION!",active:w,onClose:j,onSubmit:j,children:[(0,r.jsx)("div",{children:"Due to technical problems, the subscription function has been temporarily suspended."}),(0,r.jsx)("div",{children:"Buying a new subscription and debiting funds for the old one are disabled until troubleshooting. All your subscription points remain active."}),(0,r.jsx)("div",{children:"You can also use additional minute packages on our website."})]})]}),g&&(0,r.jsx)("div",{className:" absolute top-2 flex w-auto justify-start items-center z-40 ",children:(0,r.jsx)("div",{className:" md:w-1/2 sm:w-1/2 xs:w-fit",children:(0,r.jsx)(u.A,{title:"Ooops...",body:g})})})]})}},66034:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});var r=n(95155),s=n(7299);function i(e){let{title:t,handleClick:n,value:i,additionalStyles:l}=e;return(0,r.jsx)(s.Ay,{onClick:()=>n(i),type:"primary",className:"bg-[#009ADC] text-[#FCFDFF] w-full h-auto text-lg font-medium py-3 px-5 rounded-lg ".concat(l&&l),children:t})}},62738:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var r=n(95155);function s(e){let{additionalStyles:t,insideStyles:n}=e;return(0,r.jsx)("div",{className:"animate-spin-slow flex items-center justify-center rounded-full ".concat(t," bg-gradient-to-tr from-white-900 to-white-500"),children:(0,r.jsx)("div",{className:" rounded-full ".concat(n)})})}},84843:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var r=n(95155),s=n(48566),i=n(7299);let l=e=>{let{active:t,title:n,info:l=!1,onSubmit:a,onSubmitName:o="Confirm",onClose:c,children:u}=e;return(0,r.jsx)(s.A,{title:n,open:t,onOk:l?c:a,onCancel:c,footer:l?(0,r.jsx)(i.Ay,{onClick:c,children:"Close"}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Ay,{onClick:c,children:"Cancel"}),(0,r.jsx)(i.Ay,{type:"primary",onClick:a,children:o})]}),children:u})}},11644:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(95155),s=n(52524),i=n(76084),l=n(12115);function a(e){let{title:t,body:n}=e;return(0,l.useEffect)(()=>{s.Ay.error({message:t,description:n,icon:(0,r.jsx)(i.wfp,{style:{color:"#ef4444",fontSize:24}}),placement:"top",duration:4,style:{backgroundColor:"#fca5a5",borderRadius:8,color:"white"}})},[t,n]),null}},98290:(e,t,n)=>{"use strict";n.d(t,{J:()=>a,UserProvider:()=>l});var r=n(95155),s=n(12115);let i=(0,s.createContext)(null);function l(e){let{children:t}=e,[n,l]=(0,s.useState)(null);return(0,r.jsx)(i.Provider,{value:{user:n,setUser:e=>{localStorage.setItem("user",JSON.stringify(e)),l(e)},getUser:()=>{let e=localStorage.getItem("user");return e?(l(JSON.parse(e)),JSON.parse(e)):null},clearUser:()=>{localStorage.removeItem("user")}},children:t})}function a(){let e=(0,s.useContext)(i);if(null===e)throw Error("useTheme must be used with in UserProvider");return e}},92610:(e,t,n)=>{"use strict";n.d(t,{A:()=>u});var r=n(95155),s=n(24668),i=n(56403),l=n(34367),a=n(20206),o=n(5565),c=n(76046);function u(e){let{children:t}=e,n=(0,c.usePathname)(),u=(0,c.useRouter)();return(0,r.jsxs)("main",{className:"w-screen min-h-screen flex flex-col justify-between box-border",children:[(0,r.jsxs)("nav",{className:" bg-white-700 w-full flex justify-between items-center mx-auto min-h-[60px] px-[10px]",children:[(0,r.jsx)("div",{className:"inline-flex",children:(0,r.jsx)(o.default,{src:s.A,alt:"logo",className:"pl-5 object-contain md:max-w-[180px] sm:max-w-[180px] xs:max-w-[150px]"})}),(0,r.jsxs)("div",{className:"flex items-center gap-5",children:[n.includes("profile")?(0,r.jsx)("div",{className:"inline-flex",children:(0,r.jsx)("button",{className:" mr-2 bg-primary-500 text-white-500 font-bold py-2 px-4 rounded-full",onClick:()=>{u.push("/pack")},children:"Add Points"})}):n.includes("pack")?(0,r.jsx)("div",{className:"inline-flex",children:(0,r.jsx)(a.NMe,{className:" mr-2 text-[40px]",onClick:()=>{u.push("/profile")}})}):(0,r.jsxs)("div",{className:"inline-flex",children:[(0,r.jsx)("button",{className:" mr-2 bg-primary-500 text-white-500 font-bold py-2 px-4 rounded-full",onClick:()=>{u.push("/pack")},children:"Add Points"}),(0,r.jsx)(a.NMe,{className:" text-[40px]",onClick:()=>{n.includes("profile")?u.push("/#/home"):u.push("/profile")}})]}),(0,r.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(l.v2Y,{className:" text-[40px] mr-5"})})]})]}),(0,r.jsx)("section",{className:"flex flex-grow w-full flex-col px-[30px] ",children:t}),(0,r.jsx)("footer",{className:" bg-white-700 ",children:(0,r.jsxs)("div",{className:"mx-auto max-w-5xl px-4 py-5 sm:px-6 lg:px-8",children:[(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(o.default,{src:i.A,alt:"logo",className:"object-contain",width:"38",height:"38"})}),(0,r.jsx)("p",{className:"mx-auto mt-6 max-w-md text-center leading-relaxed font-thin",children:"\xa9 All Rights Reserved. Powered by ZIXDO TECHNOLOGIES PRIVATE LIMITED"})]})})]})}},56403:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r={src:"/onvi-indian-frontend//_next/static/media/logo_small.e691e827.png",height:273,width:320,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAJ1BMVEUAq+sArvAAs/YAsPEAsPIArvIArvEAsPIArvAAsPMAsfQAsu8AquoZEqFWAAAADXRSTlMB08K6GW5BssRUiCgSEqkBtAAAAAlwSFlzAAA9hAAAPYQB1ayvdAAAADFJREFUeJwVxccNACAQwLBcL7D/vAh/DGSLBJCSXFuoAVw5ymfE/l3Rcb+nAzGr6uABFy4A0N7vr/0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:7}},24668:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});let r={src:"/onvi-indian-frontend//_next/static/media/logo_title.112ad227.png",height:88,width:300,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAADFBMVEUAQ3AAQnEAmt4AQ3EMxn+YAAAABHRSTlMsH0g+t8xK9wAAAAlwSFlzAAAsSwAALEsBpT2WqQAAABlJREFUeJwFwQEBAAAIwyB2+3cWHGlziu0BALIAE4y6a1kAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}}},e=>{var t=t=>e(e.s=t);e.O(0,[3873,4506,4206,5565,6362,7299,9473,2651,126,2609,8566,5521,8441,1517,7358],()=>t(63909)),_N_E=e.O()}]);