(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2778],{88963:(e,t,i)=>{Promise.resolve().then(i.bind(i,50881))},43409:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a=i(82651).A.create({baseURL:"https://indi-landing-backend-xzzi7.ondigitalocean.app/",timeout:1e4,headers:{"Content-Type":"application/json"},withCredentials:!0})},50881:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>w});var a=i(95155),s=i(12115),n=i(27010),r=i(16186);let l={src:"/onvi-indian-frontend/_next/static/media/Card_icon.4be2756f.svg",height:52,width:73,blurWidth:0,blurHeight:0};var o=i(66034),d=i(39288),c=i(66558),u=i(98290),h=i(82651),m=i(43409),p=i(62738),x=i(11644),g=i(84843),v=i(8401),f=i(76046);function w(){let{setUser:e}=(0,u.J)(),t=(0,f.useRouter)(),[i,w]=(0,s.useState)(!0),[y,A]=(0,s.useState)(!1),[j,b]=(0,s.useState)(""),[C,N]=(0,s.useState)(!1),[S,k]=(0,s.useState)({phone:"",email:"",uniqNomer:"",password:"",checkPassword:"",otp:"",invitedCode:""}),E=()=>{N(!0)},T=e=>{k(t=>({...t,[e.target.name]:e.target.value}))};return(0,s.useEffect)(()=>{if(j){let e=setTimeout(()=>{b("")},3e3);return()=>{clearTimeout(e)}}},[j]),(0,a.jsxs)(d.A,{children:[(0,a.jsxs)("div",{className:" flex flex-col items-center w-full gap-3",children:[(0,a.jsx)(c.A,{type:"phone",placeholder:"write phone started with +91",icon:r.A,name:"phone",value:S.phone,handleChange:T,required:!0,regexp:/^\+91(\d{10})$/,handleValidation:w,validationMessage:"Phone must start on +91 and be no less than 13 digits"}),(0,a.jsx)(c.A,{type:"email",placeholder:"email",icon:r.A,name:"email",value:S.email,handleChange:T,required:!0,regexp:/^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)*(\.[a-z]{2,})$/,handleValidation:w,validationMessage:"The mail must be valid"}),(0,a.jsx)(c.A,{type:"uniqNomer",placeholder:"write the cw card number",icon:l,name:"uniqNomer",value:S.uniqNomer,handleChange:T,required:!0,regexp:/^\d{10}$/,handleValidation:w,validationMessage:"The cw card number must contain 10 digits"}),(0,a.jsx)(c.A,{type:"password",placeholder:"password",icon:n.A,name:"password",value:S.password,handleChange:T,required:!0,regexp:/.{6,}/,handleValidation:w,validationMessage:"Password must be no less than 6 digits"}),(0,a.jsx)(c.A,{type:"password",placeholder:"write password again",icon:n.A,name:"checkPassword",value:S.checkPassword,handleChange:T,required:!0,regexp:new RegExp("".concat(S.password)),handleValidation:w,validationMessage:"This field should be the same as a password"}),(0,a.jsx)(c.A,{type:"invitedCode",placeholder:"write invitation code",icon:r.A,name:"invitedCode",value:S.invitedCode,handleChange:T,required:!1,regexp:/^\d{6}$/,handleValidation:w,validationMessage:"The invitation code must contain 6 digits"}),(0,a.jsx)(o.A,{title:y?(0,a.jsx)("div",{className:" w-full h-full flex justify-center items-center",children:(0,a.jsx)(p.A,{additionalStyles:" w-8 h-8 ",insideStyles:"bg-primary-500 w-6 h-6"})}):"CREATE ACCOUNT",handleClick:()=>{let e=async()=>{A(!0);try{let{data:{data:e}}=await m.A.post("auth/register/otp",{...S});"sent_success"===e.status&&E()}catch(s){if(h.A.isAxiosError(s)){var e,t,i,a;b((null===(e=s.response)||void 0===e?void 0:e.data.code)===9?"The cw card was not found":(null===(t=s.response)||void 0===t?void 0:t.data.code)===10?"The cw card has already been activated":(null===(i=s.response)||void 0===i?void 0:i.data.code)===41?"The account with the specified phone already exists":(null===(a=s.response)||void 0===a?void 0:a.data.code)===42?"An account with the specified email already exists":"Something went wrong")}A(!1)}};i&&e()},value:"",additionalStyles:" bg-primary-500 text-white-500 text-base md:w-1/2 sm:w-1/2 xs:w-full mt-5"}),(0,a.jsxs)("p",{className:" font-inter-light text-white-900 text-sm text-center mt-2 mb-4",children:["Do you already have an account?",(0,a.jsx)("span",{onClick:()=>t.push("/auth/signin"),className:" text-primary-500 hover:cursor-pointer",children:"Log in!"})]}),(0,a.jsxs)(g.A,{title:"Email Confirmation",active:C,onClose:()=>{A(!1),N(!1)},onSubmit:()=>{let a=async()=>{A(!0);try{let{data:{data:i}}=await m.A.post("auth/register",{...S}),a={client:i.client,tokens:i.tokens,subscribe:null,invitedCode:""};e(a),A(!1),t.push("/profile")}catch(e){if(h.A.isAxiosError(e)){var i,a;b((null===(i=e.response)||void 0===i?void 0:i.data.code)===5?"Passwords don't match":(null===(a=e.response)||void 0===a?void 0:a.data.code)===6?"Invalid verification code":"Something went wrong")}A(!1)}};i&&a()},children:[(0,a.jsxs)("div",{children:["By email ",(0,a.jsx)("b",{children:S.email})," a letter with a verification code has been sent. To complete the registration, enter it"]}),(0,a.jsx)(v.A,{type:"otp",placeholder:"write the verification code",name:"otp",value:S.otp,handleChange:T,required:!0,regexp:/.{6,}/,handleValidation:w,validationMessage:"The verification code must contain 6 digits"})]})]}),j&&(0,a.jsx)("div",{className:" absolute top-2 flex w-auto min-w-[600px] justify-start items-center z-40 ",children:(0,a.jsx)("div",{className:" md:w-1/2 sm:w-1/2 xs:w-fit",children:(0,a.jsx)(x.A,{title:"Ooops...",body:j})})})]})}},66034:(e,t,i)=>{"use strict";i.d(t,{A:()=>n});var a=i(95155),s=i(7299);function n(e){let{title:t,handleClick:i,value:n,additionalStyles:r}=e;return(0,a.jsx)(s.Ay,{onClick:()=>i(n),type:"primary",className:"bg-[#009ADC] text-[#FCFDFF] w-full h-auto text-lg font-medium py-3 px-5 rounded-lg ".concat(r&&r),children:t})}},66558:(e,t,i)=>{"use strict";i.d(t,{A:()=>d});var a=i(95155),s=i(12115),n=i(49913),r=i(23076),l=i(76084),o=i(5565);function d(e){let{type:t,placeholder:i,icon:d,handleChange:c,handleValidation:u,validationMessage:h,required:m,name:p,value:x,regexp:g}=e,[v,f]=(0,s.useState)(!0);(0,s.useEffect)(()=>{u&&u(!g||g.test(x)),x.length>0&&g?f(g.test(x)):f(!0)},[x]);let w=(0,a.jsx)(o.default,{src:d,alt:"icon",className:"w-[15px] h-[15px] object-contain"}),y=v?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.mAE,{className:"inline mr-2 text-red-400"}),h]});return(0,a.jsx)(n.A.Item,{validateStatus:v?void 0:"error",help:y,required:m,colon:!1,style:{marginBottom:"1.2rem"},children:(0,a.jsx)(r.A,{type:t,name:p,placeholder:i,value:x,onChange:c,onBlur:()=>{g&&f(g.test(x))},suffix:w,className:"font-inter-light text-base",style:{padding:"0.6rem 0.8rem"}})})}},8401:(e,t,i)=>{"use strict";i.d(t,{A:()=>o});var a=i(95155),s=i(12115),n=i(49913),r=i(23076),l=i(76084);function o(e){let{type:t,placeholder:i,handleChange:o,handleValidation:d,validationMessage:c,required:u,name:h,value:m,regexp:p}=e,[x,g]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=!p||p.test(m);g(0===m.length||e),d&&d(e)},[m]);let v=!x&&c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.mAE,{className:"inline mr-2 text-red-400"}),c]}):null;return(0,a.jsx)(n.A.Item,{validateStatus:x?void 0:"error",help:v,required:u,colon:!1,style:{marginBottom:"1.2rem"},children:(0,a.jsx)(r.A,{type:t,name:h,placeholder:i,value:m,onChange:o,onBlur:()=>{p&&g(p.test(m))},className:"font-inter-light text-base",style:{padding:"0.6rem 0.8rem"}})})}},62738:(e,t,i)=>{"use strict";i.d(t,{A:()=>s});var a=i(95155);function s(e){let{additionalStyles:t,insideStyles:i}=e;return(0,a.jsx)("div",{className:"animate-spin-slow flex items-center justify-center rounded-full ".concat(t," bg-gradient-to-tr from-white-900 to-white-500"),children:(0,a.jsx)("div",{className:" rounded-full ".concat(i)})})}},84843:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var a=i(95155),s=i(48566),n=i(7299);let r=e=>{let{active:t,title:i,info:r=!1,onSubmit:l,onSubmitName:o="Confirm",onClose:d,children:c}=e;return(0,a.jsx)(s.A,{title:i,open:t,onOk:r?d:l,onCancel:d,footer:r?(0,a.jsx)(n.Ay,{onClick:d,children:"Close"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.Ay,{onClick:d,children:"Cancel"}),(0,a.jsx)(n.Ay,{type:"primary",onClick:l,children:o})]}),children:c})}},11644:(e,t,i)=>{"use strict";i.d(t,{A:()=>l});var a=i(95155),s=i(52524),n=i(76084),r=i(12115);function l(e){let{title:t,body:i}=e;return(0,r.useEffect)(()=>{s.Ay.error({message:t,description:i,icon:(0,a.jsx)(n.wfp,{style:{color:"#ef4444",fontSize:24}}),placement:"top",duration:4,style:{backgroundColor:"#fca5a5",borderRadius:8,color:"white"}})},[t,i]),null}},98290:(e,t,i)=>{"use strict";i.d(t,{J:()=>l,UserProvider:()=>r});var a=i(95155),s=i(12115);let n=(0,s.createContext)(null);function r(e){let{children:t}=e,[i,r]=(0,s.useState)(null);return(0,a.jsx)(n.Provider,{value:{user:i,setUser:e=>{localStorage.setItem("user",JSON.stringify(e)),r(e)},getUser:()=>{let e=localStorage.getItem("user");return e?(r(JSON.parse(e)),JSON.parse(e)):null},clearUser:()=>{localStorage.removeItem("user")}},children:t})}function l(){let e=(0,s.useContext)(n);if(null===e)throw Error("useTheme must be used with in UserProvider");return e}},39288:(e,t,i)=>{"use strict";i.d(t,{A:()=>r});var a=i(95155),s=i(5565),n=i(39444);function r(e){let{children:t}=e;return(0,a.jsxs)("main",{className:" min-h-screen max-h-screen w-screen flex flex-col items-center justify-between px-[30px]",children:[(0,a.jsx)(s.default,{src:n.A,alt:"Logo",className:" w-[300px] h-auto mt-[50px] mb-0"}),(0,a.jsx)("div",{className:" min-h-fit w-full",children:t}),(0,a.jsxs)("footer",{className:" flex flex-col items-center font-inter-light text-sm mb-5",children:[(0,a.jsx)("p",{className:" text-white-400",children:"By signing up you have agreed to our"}),(0,a.jsx)("p",{className:" text-black-500",children:"Terms of Use & Privacy Policy"})]})]})}},27010:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a={src:"/onvi-indian-frontend/_next/static/media/Lock_icon.221b7500.svg",height:8,width:8,blurWidth:0,blurHeight:0}},39444:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a={src:"/onvi-indian-frontend/_next/static/media/Logo.7b1c6e19.svg",height:71,width:174,blurWidth:0,blurHeight:0}},16186:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});let a={src:"/onvi-indian-frontend/_next/static/media/Message_icon.c21789f6.svg",height:8,width:9,blurWidth:0,blurHeight:0}}},e=>{var t=t=>e(e.s=t);e.O(0,[3873,5565,6362,7299,9473,2651,576,126,2609,2253,8566,3076,9913,8441,1517,7358],()=>t(88963)),_N_E=e.O()}]);