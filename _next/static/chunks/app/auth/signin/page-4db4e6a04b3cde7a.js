(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4680],{65433:(e,t,s)=>{Promise.resolve().then(s.bind(s,88163))},43409:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=s(82651).A.create({baseURL:"https://indi-landing-backend-xzzi7.ondigitalocean.app/",timeout:1e4,headers:{"Content-Type":"application/json"},withCredentials:!0})},88163:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(95155),n=s(66558),r=s(39288),i=s(27010),o=s(16186),l=s(66034),c=s(12115),d=s(98290),u=s(43409),h=s(82651),m=s(62738),p=s(11644),x=s(56984),g=s(8401),f=s(84843),w=s(76046);function v(){let e=(0,w.useRouter)(),{setUser:t}=(0,d.J)(),[s,v]=(0,c.useState)({phone:"",password:"",newPassword:"",checkNewPassword:"",otp:""}),[j,y]=(0,c.useState)(!0),[A,b]=(0,c.useState)(!1),[N,C]=(0,c.useState)(""),[S,k]=(0,c.useState)(""),[P,E]=(0,c.useState)(!1),[_,T]=(0,c.useState)(!1),q=()=>{E(!0)},O=()=>{E(!1)},U=()=>{T(!0)},F=()=>{T(!1)},I=e=>{v(t=>({...t,[e.target.name]:e.target.value}))};return(0,c.useEffect)(()=>{if(N){let e=setTimeout(()=>{C("")},3e3);return()=>{clearTimeout(e)}}if(S){let e=setTimeout(()=>{k("")},3e3);return()=>{clearTimeout(e)}}},[N,S]),(0,a.jsxs)(r.A,{children:[(0,a.jsxs)("div",{className:" flex flex-col items-center w-full gap-5",children:[(0,a.jsx)(n.A,{type:"phone",placeholder:"phone",icon:o.A,handleChange:I,required:!1,name:"phone",value:s.phone,regexp:/^\+91(\d{10})$/,handleValidation:y,validationMessage:"Phone must start on +91 and be no less than 13 digits"}),(0,a.jsx)(n.A,{type:"password",placeholder:"password",icon:i.A,handleChange:I,required:!1,name:"password",value:s.password,regexp:/.{6,}/,handleValidation:y,validationMessage:"Password must be no less than 6 digits"}),(0,a.jsx)(l.A,{title:A?(0,a.jsx)(m.A,{additionalStyles:" w-8 h-8 ",insideStyles:"bg-primary-500 w-6 h-6"}):"LOGIN",handleClick:()=>{let a=async()=>{b(!0);try{let{data:{data:{client:a,tokens:n}}}=await u.A.post("auth/login",{...s});t({client:a,tokens:n}),b(!1),e.push("/profile")}catch(e){if(h.A.isAxiosError(e)){var a;C((null===(a=e.response)||void 0===a?void 0:a.data.code)===7?"Wrong phone number or password":"Something went wrong")}b(!1)}};j&&a()},value:"",additionalStyles:" bg-primary-500 text-white-500 text-base md:w-1/2 sm:w-1/2 xs:w-full mt-[20px] flex items-center justify-center"})]}),(0,a.jsxs)("p",{className:" font-inter-light text-white-900 text-sm text-center mt-6",children:["Don't remember your password?",(0,a.jsx)("span",{onClick:()=>q(),className:" text-primary-500 hover:cursor-pointer",children:"Recover!"})]}),(0,a.jsxs)("p",{className:" font-inter-light text-white-900 text-sm text-center mt-2",children:["Donâ€™t have an account?",(0,a.jsx)("span",{onClick:()=>e.push("/auth/signup"),className:" text-primary-500 hover:cursor-pointer",children:"Sign Up!"})]}),(0,a.jsxs)("p",{className:" font-inter-light text-white-900 text-sm text-center mt-2 mb-4",children:["Any problems? Contact us",(0,a.jsx)("span",{className:" text-primary-500",children:"+91 9110943649"})]}),(0,a.jsxs)(f.A,{title:"Change the password",active:P,onClose:O,onSubmit:()=>{let e=async()=>{try{let{data:{data:e}}=await u.A.post("auth/changePassword/otp",{...s});"sent_success"===e.status&&(O(),U())}catch(t){if(h.A.isAxiosError(t)){var e;C((null===(e=t.response)||void 0===e?void 0:e.data.code)===4?"The account was not found":"Something went wrong")}}};j&&e()},children:[(0,a.jsx)("div",{children:"Specify the phone number that was specified when creating the account."}),(0,a.jsx)(g.A,{type:"phone",placeholder:"phone",name:"phone",value:s.phone,handleChange:I,required:!0,regexp:/^\+91(\d{10})$/,handleValidation:y,validationMessage:"Phone must start on +91 and be no less than 13 digits"})]}),(0,a.jsxs)(f.A,{title:"Change the password",active:_,onClose:F,onSubmit:()=>{let e=async()=>{try{let{data:{data:e}}=await u.A.post("auth/changePassword",{...s});"change_success"===e.status&&(F(),k("The password has been successfully changed"))}catch(s){if(h.A.isAxiosError(s)){var e,t;C((null===(e=s.response)||void 0===e?void 0:e.data.code)===5?"Passwords don't match":(null===(t=s.response)||void 0===t?void 0:t.data.code)===6?"Invalid verification code":"Something went wrong")}}};j&&e()},children:[(0,a.jsx)("div",{children:"A verification code has been sent to the email address specified during registration. Specify it for a successful password change."}),(0,a.jsx)(g.A,{type:"password",placeholder:"password",name:"newPassword",value:s.newPassword,handleChange:I,required:!0,regexp:/.{6,}/,handleValidation:y,validationMessage:"Password must be no less than 6 digits"}),(0,a.jsx)(g.A,{type:"password",placeholder:"write password again",name:"checkNewPassword",value:s.checkNewPassword,handleChange:I,required:!0,regexp:new RegExp("".concat(s.newPassword)),handleValidation:y,validationMessage:"This field should be the same as a password"}),(0,a.jsx)(g.A,{type:"otp",placeholder:"write the verification code",name:"otp",value:s.otp,handleChange:I,required:!0,regexp:/.{6,}/,handleValidation:y,validationMessage:"The verification code must contain 6 digits"})]}),N&&(0,a.jsx)("div",{className:" absolute top-2 flex w-auto min-w-[600px] justify-start items-center z-40 ",children:(0,a.jsx)("div",{className:" md:w-1/2 sm:w-1/2 xs:w-fit",children:(0,a.jsx)(p.A,{title:"Ooops...",body:N})})}),S&&(0,a.jsx)("div",{className:" absolute top-2 flex w-auto min-w-[600px] justify-start items-center z-40 ",children:(0,a.jsx)("div",{className:" md:w-1/2 sm:w-1/2 xs:w-fit",children:(0,a.jsx)(x.A,{body:S})})})]})}},66034:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var a=s(95155),n=s(7299);function r(e){let{title:t,handleClick:s,value:r,additionalStyles:i}=e;return(0,a.jsx)(n.Ay,{onClick:()=>s(r),type:"primary",className:"bg-[#009ADC] text-[#FCFDFF] w-full h-auto text-lg font-medium py-3 px-5 rounded-lg ".concat(i&&i),children:t})}},66558:(e,t,s)=>{"use strict";s.d(t,{A:()=>c});var a=s(95155),n=s(12115),r=s(49913),i=s(23076),o=s(76084),l=s(5565);function c(e){let{type:t,placeholder:s,icon:c,handleChange:d,handleValidation:u,validationMessage:h,required:m,name:p,value:x,regexp:g}=e,[f,w]=(0,n.useState)(!0);(0,n.useEffect)(()=>{u&&u(!g||g.test(x)),x.length>0&&g?w(g.test(x)):w(!0)},[x]);let v=(0,a.jsx)(l.default,{src:c,alt:"icon",className:"w-[15px] h-[15px] object-contain"}),j=f?null:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.mAE,{className:"inline mr-2 text-red-400"}),h]});return(0,a.jsx)(r.A.Item,{validateStatus:f?void 0:"error",help:j,required:m,colon:!1,style:{marginBottom:"1.2rem"},children:(0,a.jsx)(i.A,{type:t,name:p,placeholder:s,value:x,onChange:d,onBlur:()=>{g&&w(g.test(x))},suffix:v,className:"font-inter-light text-base",style:{padding:"0.6rem 0.8rem"}})})}},8401:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});var a=s(95155),n=s(12115),r=s(49913),i=s(23076),o=s(76084);function l(e){let{type:t,placeholder:s,handleChange:l,handleValidation:c,validationMessage:d,required:u,name:h,value:m,regexp:p}=e,[x,g]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=!p||p.test(m);g(0===m.length||e),c&&c(e)},[m]);let f=!x&&d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.mAE,{className:"inline mr-2 text-red-400"}),d]}):null;return(0,a.jsx)(r.A.Item,{validateStatus:x?void 0:"error",help:f,required:u,colon:!1,style:{marginBottom:"1.2rem"},children:(0,a.jsx)(i.A,{type:t,name:h,placeholder:s,value:m,onChange:l,onBlur:()=>{p&&g(p.test(m))},className:"font-inter-light text-base",style:{padding:"0.6rem 0.8rem"}})})}},62738:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(95155);function n(e){let{additionalStyles:t,insideStyles:s}=e;return(0,a.jsx)("div",{className:"animate-spin-slow flex items-center justify-center rounded-full ".concat(t," bg-gradient-to-tr from-white-900 to-white-500"),children:(0,a.jsx)("div",{className:" rounded-full ".concat(s)})})}},84843:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(95155),n=s(48566),r=s(7299);let i=e=>{let{active:t,title:s,info:i=!1,onSubmit:o,onSubmitName:l="Confirm",onClose:c,children:d}=e;return(0,a.jsx)(n.A,{title:s,open:t,onOk:i?c:o,onCancel:c,footer:i?(0,a.jsx)(r.Ay,{onClick:c,children:"Close"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.Ay,{onClick:c,children:"Cancel"}),(0,a.jsx)(r.Ay,{type:"primary",onClick:o,children:l})]}),children:d})}},56984:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(95155),n=s(52524),r=s(76084),i=s(12115);function o(e){let{title:t="Success",body:s}=e;return(0,i.useEffect)(()=>{n.Ay.success({message:t,description:s,icon:(0,a.jsx)(r.wfp,{style:{color:"#52c41a",fontSize:20}}),placement:"top",duration:4,style:{backgroundColor:"#16a34a",borderRadius:8,color:"white"}})},[t,s]),null}},11644:(e,t,s)=>{"use strict";s.d(t,{A:()=>o});var a=s(95155),n=s(52524),r=s(76084),i=s(12115);function o(e){let{title:t,body:s}=e;return(0,i.useEffect)(()=>{n.Ay.error({message:t,description:s,icon:(0,a.jsx)(r.wfp,{style:{color:"#ef4444",fontSize:24}}),placement:"top",duration:4,style:{backgroundColor:"#fca5a5",borderRadius:8,color:"white"}})},[t,s]),null}},98290:(e,t,s)=>{"use strict";s.d(t,{J:()=>o,UserProvider:()=>i});var a=s(95155),n=s(12115);let r=(0,n.createContext)(null);function i(e){let{children:t}=e,[s,i]=(0,n.useState)(null);return(0,a.jsx)(r.Provider,{value:{user:s,setUser:e=>{localStorage.setItem("user",JSON.stringify(e)),i(e)},getUser:()=>{let e=localStorage.getItem("user");return e?(i(JSON.parse(e)),JSON.parse(e)):null},clearUser:()=>{localStorage.removeItem("user")}},children:t})}function o(){let e=(0,n.useContext)(r);if(null===e)throw Error("useTheme must be used with in UserProvider");return e}},39288:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(95155),n=s(5565),r=s(39444);function i(e){let{children:t}=e;return(0,a.jsxs)("main",{className:" min-h-screen max-h-screen w-screen flex flex-col items-center justify-between px-[30px]",children:[(0,a.jsx)(n.default,{src:r.A,alt:"Logo",className:" w-[300px] h-auto mt-[50px] mb-0"}),(0,a.jsx)("div",{className:" min-h-fit w-full",children:t}),(0,a.jsxs)("footer",{className:" flex flex-col items-center font-inter-light text-sm mb-5",children:[(0,a.jsx)("p",{className:" text-white-400",children:"By signing up you have agreed to our"}),(0,a.jsx)("p",{className:" text-black-500",children:"Terms of Use & Privacy Policy"})]})]})}},27010:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/onvi-indian-frontend/_next/static/media/Lock_icon.221b7500.svg",height:8,width:8,blurWidth:0,blurHeight:0}},39444:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/onvi-indian-frontend/_next/static/media/Logo.7b1c6e19.svg",height:71,width:174,blurWidth:0,blurHeight:0}},16186:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a={src:"/onvi-indian-frontend/_next/static/media/Message_icon.c21789f6.svg",height:8,width:9,blurWidth:0,blurHeight:0}}},e=>{var t=t=>e(e.s=t);e.O(0,[3873,5565,6362,7299,9473,2651,576,126,2609,2253,8566,3076,9913,8441,1517,7358],()=>t(65433)),_N_E=e.O()}]);