(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[310],{3955:(e,t,s)=>{Promise.resolve().then(s.bind(s,79081))},43409:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l=s(82651).A.create({baseURL:"https://indi-landing-backend-xzzi7.ondigitalocean.app/",timeout:1e4,headers:{"Content-Type":"application/json"},withCredentials:!0})},79081:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var l=s(95155),r=s(98290),n=s(12115),i=s(82651),a=s(43409),o=s(92610),c=s(62738),d=s(11644),x=s(66034),u=s(76046);function m(e){let{id:t,name:s,sumPoint:r,sumMoney:i,description:o,user:d}=e,[m,A]=(0,n.useState)(!1),h=(0,u.useRouter)();return(0,l.jsxs)("div",{className:"rounded-2xl border border-primary-600 p-6 shadow-sm ring-1 ring-primary-500 sm:px-8 lg:p-12 min-w-[250px]",children:[(0,l.jsxs)("div",{className:"text-center",children:[(0,l.jsxs)("h2",{className:"text-xl font-inter-bold text-black",children:[s,(0,l.jsx)("span",{className:"sr-only",children:"Plan"})]}),(0,l.jsx)("p",{className:"mt-2 sm:mt-1",children:(0,l.jsxs)("strong",{className:"text-3xl font-bold text-primary-500 sm:text-4xl",children:[(0,l.jsxs)("span",{style:{fontSize:"1.1rem",color:"grey",textDecoration:"line-through"},children:[r," ₹"]}),(0,l.jsx)("br",{}),i," ₹"]})})]}),(0,l.jsxs)("ul",{className:"mt-6 space-y-2",children:[(0,l.jsxs)("li",{className:"flex items-center gap-1",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 text-indigo-700",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,l.jsxs)("span",{className:"text-white-900",children:[" ",o," "]})]}),(0,l.jsxs)("li",{className:"flex items-center gap-1",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 text-indigo-700",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,l.jsx)("span",{className:"text-white-900",children:" good addition to your subscription "})]}),(0,l.jsxs)("li",{className:"flex items-center gap-1",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"size-5 text-indigo-700",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),(0,l.jsx)("span",{className:"text-white-900",children:" without expiration date "})]})]}),(0,l.jsx)(x.A,{title:m?(0,l.jsx)("div",{className:" min-w-full h-full flex justify-center items-center",children:(0,l.jsx)(c.A,{additionalStyles:" w-7 h-7 ",insideStyles:" w-5 h-5 bg-primary-500"})}):"Get Points!",handleClick:()=>{A(!0),(async()=>{var e;await (e="https://checkout.razorpay.com/v1/checkout.js",new Promise(t=>{let s=document.createElement("script");s.src=e,s.async=!0,s.onload=()=>{t(!0)},s.onerror=()=>{t(!1)},document.body.appendChild(s)}))||(console.log("Failed to load checkout"),alert("Somthing went wrong try again later"));try{let e=await a.A.post("pack/apply",{packId:t},{headers:{Authorization:"Bearer ".concat(null==d?void 0:d.tokens.accessToken)}});A(!1),e||h.push("/error");let s=e.data.data;console.log(s);let l={key:"rzp_live_dVUwzpkbXg2YDn",amount:100*i,currency:"INR",name:"DSMoy-ka",description:"Transaction",image:"",order_id:"".concat(s),handler:async function(e){try{await a.A.post("pack/checkApply",{response:e,packId:t,orderId:s},{headers:{Authorization:"Bearer ".concat(null==d?void 0:d.tokens.accessToken)}}),h.push("/success")}catch(e){h.push("/error")}},prefill:{email:"".concat(null==d?void 0:d.client.email),contact:"".concat(null==d?void 0:d.client.phone)},theme:{color:"#0B68E1"}};new window.Razorpay(l).open()}catch(e){console.log(e),A(!1)}})()},value:"",additionalStyles:" bg-primary-500 text-white-500 font-inter-light mt-3 min-w-full"})]})}function A(){let{user:e,getUser:t}=(0,r.J)(),s=(0,u.useRouter)(),[x,A]=(0,n.useState)([]),[h,p]=(0,n.useState)(!0),[f,g]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=t();e||s.push("/landing");let l=async()=>{try{let{data:{data:t}}=await a.A.get("pack",{headers:{Authorization:"Bearer ".concat(null==e?void 0:e.tokens.accessToken)}});p(!1),A(t)}catch(e){p(!1),i.A.isAxiosError(e)&&g("Something went wrong")}};e&&l()},[]),(0,n.useEffect)(()=>{if(f){let e=setTimeout(()=>{g("")},3e3);return()=>{clearTimeout(e)}}},[f]),(0,l.jsxs)(o.A,{children:[h?(0,l.jsx)("div",{className:" flex flex-grow justify-center items-center",children:(0,l.jsx)(c.A,{additionalStyles:" w-[100px] h-[100px]",insideStyles:" bg-white-500 w-[90px] h-[90px]"})}):(0,l.jsxs)("div",{children:[(0,l.jsx)("div",{className:" my-[30px] min-w-full flex flex-grow justify-center items-center sm:flex-col xs:flex-col md:flex-row gap-5",children:(0,l.jsx)("h1",{className:"mb-4 text-4xl font-extrabold leading-none tracking-tight text-gray-900 md:text-5xl lg:text-6xl dark:text-white",children:"Get more CarWashes"})}),(0,l.jsx)("div",{className:" my-[30px] min-w-full flex flex-grow justify-center items-center sm:flex-col xs:flex-col md:flex-row gap-5",children:x&&x.map((t,s)=>(0,l.jsx)(m,{id:t.id,name:t.name,sumMoney:t.sumMoney,sumPoint:t.sumPoint,description:t.description,user:e},s))})]}),f&&(0,l.jsx)("div",{className:" absolute top-2 flex w-auto justify-start items-center z-40 ",children:(0,l.jsx)("div",{className:" md:w-1/2 sm:w-1/2 xs:w-fit",children:(0,l.jsx)(d.A,{title:"Ooops...",body:f})})})]})}},66034:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var l=s(95155),r=s(7299);function n(e){let{title:t,handleClick:s,value:n,additionalStyles:i}=e;return(0,l.jsx)(r.Ay,{onClick:()=>s(n),type:"primary",className:"bg-[#009ADC] text-[#FCFDFF] w-full h-auto text-lg font-medium py-3 px-5 rounded-lg ".concat(i&&i),children:t})}},62738:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});var l=s(95155);function r(e){let{additionalStyles:t,insideStyles:s}=e;return(0,l.jsx)("div",{className:"animate-spin-slow flex items-center justify-center rounded-full ".concat(t," bg-gradient-to-tr from-white-900 to-white-500"),children:(0,l.jsx)("div",{className:" rounded-full ".concat(s)})})}},11644:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});var l=s(95155),r=s(52524),n=s(76084),i=s(12115);function a(e){let{title:t,body:s}=e;return(0,i.useEffect)(()=>{r.Ay.error({message:t,description:s,icon:(0,l.jsx)(n.wfp,{style:{color:"#ef4444",fontSize:24}}),placement:"top",duration:4,style:{backgroundColor:"#fca5a5",borderRadius:8,color:"white"}})},[t,s]),null}},98290:(e,t,s)=>{"use strict";s.d(t,{J:()=>a,UserProvider:()=>i});var l=s(95155),r=s(12115);let n=(0,r.createContext)(null);function i(e){let{children:t}=e,[s,i]=(0,r.useState)(null);return(0,l.jsx)(n.Provider,{value:{user:s,setUser:e=>{localStorage.setItem("user",JSON.stringify(e)),i(e)},getUser:()=>{let e=localStorage.getItem("user");return e?(i(JSON.parse(e)),JSON.parse(e)):null},clearUser:()=>{localStorage.removeItem("user")}},children:t})}function a(){let e=(0,r.useContext)(n);if(null===e)throw Error("useTheme must be used with in UserProvider");return e}},92610:(e,t,s)=>{"use strict";s.d(t,{A:()=>d});var l=s(95155),r=s(24668),n=s(56403),i=s(34367),a=s(20206),o=s(5565),c=s(76046);function d(e){let{children:t}=e,s=(0,c.usePathname)(),d=(0,c.useRouter)();return(0,l.jsxs)("main",{className:"w-screen min-h-screen flex flex-col justify-between box-border",children:[(0,l.jsxs)("nav",{className:" bg-white-700 w-full flex justify-between items-center mx-auto min-h-[60px] px-[10px]",children:[(0,l.jsx)("div",{className:"inline-flex",children:(0,l.jsx)(o.default,{src:r.A,alt:"logo",className:"pl-5 object-contain md:max-w-[180px] sm:max-w-[180px] xs:max-w-[150px]"})}),(0,l.jsxs)("div",{className:"flex items-center gap-5",children:[s.includes("profile")?(0,l.jsx)("div",{className:"inline-flex",children:(0,l.jsx)("button",{className:" mr-2 bg-primary-500 text-white-500 font-bold py-2 px-4 rounded-full",onClick:()=>{d.push("/pack")},children:"Add Points"})}):s.includes("pack")?(0,l.jsx)("div",{className:"inline-flex",children:(0,l.jsx)(a.NMe,{className:" mr-2 text-[40px]",onClick:()=>{d.push("/profile")}})}):(0,l.jsxs)("div",{className:"inline-flex",children:[(0,l.jsx)("button",{className:" mr-2 bg-primary-500 text-white-500 font-bold py-2 px-4 rounded-full",onClick:()=>{d.push("/pack")},children:"Add Points"}),(0,l.jsx)(a.NMe,{className:" text-[40px]",onClick:()=>{s.includes("profile")?d.push("/#/home"):d.push("/profile")}})]}),(0,l.jsx)("a",{href:"/",target:"_blank",rel:"noopener noreferrer",children:(0,l.jsx)(i.v2Y,{className:" text-[40px] mr-5"})})]})]}),(0,l.jsx)("section",{className:"flex flex-grow w-full flex-col px-[30px] ",children:t}),(0,l.jsx)("footer",{className:" bg-white-700 ",children:(0,l.jsxs)("div",{className:"mx-auto max-w-5xl px-4 py-5 sm:px-6 lg:px-8",children:[(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)(o.default,{src:n.A,alt:"logo",className:"object-contain",width:"38",height:"38"})}),(0,l.jsx)("p",{className:"mx-auto mt-6 max-w-md text-center leading-relaxed font-thin",children:"\xa9 All Rights Reserved. Powered by ZIXDO TECHNOLOGIES PRIVATE LIMITED"})]})})]})}},56403:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l={src:"/onvi-indian-frontend//_next/static/media/logo_small.e691e827.png",height:273,width:320,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAHCAMAAAACh/xsAAAAJ1BMVEUAq+sArvAAs/YAsPEAsPIArvIArvEAsPIArvAAsPMAsfQAsu8AquoZEqFWAAAADXRSTlMB08K6GW5BssRUiCgSEqkBtAAAAAlwSFlzAAA9hAAAPYQB1ayvdAAAADFJREFUeJwVxccNACAQwLBcL7D/vAh/DGSLBJCSXFuoAVw5ymfE/l3Rcb+nAzGr6uABFy4A0N7vr/0AAAAASUVORK5CYII=",blurWidth:8,blurHeight:7}},24668:(e,t,s)=>{"use strict";s.d(t,{A:()=>l});let l={src:"/onvi-indian-frontend//_next/static/media/logo_title.112ad227.png",height:88,width:300,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAACCAMAAABSSm3fAAAADFBMVEUAQ3AAQnEAmt4AQ3EMxn+YAAAABHRSTlMsH0g+t8xK9wAAAAlwSFlzAAAsSwAALEsBpT2WqQAAABlJREFUeJwFwQEBAAAIwyB2+3cWHGlziu0BALIAE4y6a1kAAAAASUVORK5CYII=",blurWidth:8,blurHeight:2}}},e=>{var t=t=>e(e.s=t);e.O(0,[3873,4506,4206,5565,6362,7299,2651,2609,4889,8441,1517,7358],()=>t(3955)),_N_E=e.O()}]);